<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>BayesNetty: Bayesian Network Software for Genetic Analyses</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="stylesheet" type="text/css" href="bayesnettystyles.css" />
<link rel="shortcut icon" href="favicon.ico" />
</head>
<body>
<!-- Begin Wrapper -->
<div id="wrapper">
<table width="100%" border="0" cellpadding="0" cellspacing="0"><tr><td>
<!-- Begin Header -->
<div id="header">
<table><tr>
<td>
<img width="150" src="bayesnetty-logo.png" alt="BayesNetty: Bayesian Network Software for Genetic Analyses"/>
</td>
<td>
<p style="margin-left: 1em;">BayesNetty: Bayesian Network Software for Genetic Analyses</p>
</td></tr>
</table>
</div>
<!-- End Header -->
<!-- Begin Menu Navigation -->
<ul id="menunav">
<li><a href="index.html">Home</a></li>
<li><a href="downloads.html">Download</a></li>
<li><a href="contact.html">Contact</a></li>
</ul>
<!-- End Menu Navigation -->

</td></tr>
<tr><td>
<table border="0" cellpadding="0" cellspacing="0"><tr>
<td valign="top">
<!-- Begin Left Column -->
<div id="leftcolumn">
<!-- Begin Contents Navigation -->
<div id="navcontainer">
<ul>
<li><a href="introduction.html">1 Introduction</a>
</li>
<li><a href="installation.html">2 Installation</a>
</li>
<li><a href="using.html">3 Using BayesNetty</a>
<ul>
<li><a href="using.html#basic-options">3.1 Basic Options</a></li>
<li><a href="using.html#parameterfile">3.2 Parameter file</a></li>
<li><a href="using.html#simple-example">3.3 Simple Example</a></li>
<li><a href="using.html#command-line">3.4 Command-line Options</a></li>
</ul>
</li>
<li><a href="parallel.html">4 Parallel BayesNetty</a>
<ul>
<li><a href="parallel.html#compile-parallel-code">4.1 Compilation Scripts</a></li>
</ul>
</li>
<li><a href="input-data.html">5 Input data</a>
<ul>
<li><a href="input-data.html#input-data-options">5.1 Options</a></li>
<li><a href="input-data.html#input-data-discrete">5.2 Discrete data</a></li>
<li><a href="input-data.html#input-data-cts">5.3 Continuous data</a></li>
<li><a href="input-data.html#input-data-factor">5.4 Factor data</a></li>
<li><a href="input-data.html#input-data-snp">5.5 SNP data</a></li>
<li><a href="input-data.html#input-data-missing">5.6 Missing data</a></li>
<li><a href="input-data.html#input-data-ids">5.7 Data IDs</a></li>
<li><a href="input-data.html#input-data-example">5.8 Example</a></li>
</ul>
</li>
<li><a href="input-network.html">6 Input network</a>
<ul>
<li><a href="input-network.html#input-network-options">6.1 Options</a></li>
<li><a href="input-network.html#input-network-black">6.2 Black lists</a></li>
<li><a href="input-network.html#input-network-white">6.3 White lists</a></li>
<li><a href="input-network.html#input-network-soft-con">6.4 Soft Constraints</a></li>
<li><a href="input-network.html#input-network-formats">6.5 Network formats</a></li>
<li><a href="input-network.html#input-network-example">6.6 Example</a></li>
</ul>
</li>
<li><a href="bnlearn.html">7 bnlearn network</a>
<ul>
<li><a href="bnlearn.html#bnlearn-score">7.1 Network score</a></li>
</ul>
</li>
<li><a href="deal.html">8 deal network</a>
<ul>
<li><a href="deal.html#imaginary-sample-size">8.1 Imaginary sample size</a></li>
</ul>
</li>
<li><a href="calc-score.html">9 Calculate network score</a>
<ul>
<li><a href="calc-score.html#calc-score-options">9.1 Options</a></li>
<li><a href="calc-score.html#calc-score-example">9.2 Example</a></li>
</ul>
</li>
<li><a href="calc-posterior.html">10 Calculate posterior</a>
<ul>
<li><a href="calc-posterior.html#calc-posterior-options">10.1 Options</a></li>
<li><a href="calc-posterior.html#calc-post-example">10.2 Example</a></li>
</ul>
</li>
<li><a href="search-models.html">11 Search models</a>
<ul>
<li><a href="search-models.html#search-models-options">11.1 Options</a></li>
<li><a href="search-models.html#search-models-greedy">11.2 Greedy search</a></li>
<li><a href="search-models.html#search-models-example">11.3 Example</a></li>
</ul>
</li>
<li><a href="average-network.html">12 Average network</a>
<ul>
<li><a href="average-network.html#average-network-options">12.1 Options</a></li>
<li><a href="average-network.html#average-network-score">12.2 Score Method</a></li>
<li><a href="average-network.html#average-network-example">12.3 Example</a></li>
<li><a href="average-network.html#average-network-parallel">12.4 Parallel Example</a></li>
</ul>
</li>
<li><a href="impute-data.html">13 Impute Data</a>
<ul>
<li><a href="impute-data.html#impute-data-options">13.1 Options</a></li>
<li><a href="impute-data.html#impute-example">13.2 Example</a></li>
<li><a href="impute-data.html#impute-parallel-example">13.3 Parallel Example</a></li>
</ul>
</li>
<li><a href="estimate-impute.html">14 Estimate Imputation Benefit</a>
<ul>
<li><a href="estimate-impute.html#estimate-impute-options">14.1 Options</a></li>
<li><a href="estimate-impute.html#estimate-impute-example">14.2 Example</a></li>
</ul>
</li>
<li><a href="calc-recall-precision.html">15 Calculate Recall and Precision</a>
<ul>
<li><a href="calc-recall-precision.html#calc-recall-precision-options">15.1 Options</a></li>
<li><a href="calc-recall-precision.html#calc-recall-precision-example">15.2 Example</a></li>
</ul>
</li>
<li><a href="sim-data.html">16 Simulate network data</a>
<ul>
<li><a href="sim-data.html#sim-data-options">16.1 Options</a></li>
<li><a href="sim-data.html#sim-data-example1">16.2 Example 1: no data</a></li>
<li><a href="sim-data.html#sim-data-example2">16.3 Example 2: data and fitted network</a></li>
<li><a href="sim-data.html#sim-data-example3">16.4 Example 3: data and unknown network</a></li>
</ul>
</li>
<li><a href="markov-blanket.html">17 Markov blanket</a>
<ul>
<li><a href="markov-blanket.html#markov-blanket-options">17.1 Options</a></li>
<li><a href="markov-blanket.html#calc-blanket-example">17.2 Example</a></li>
</ul>
</li>
<li><a href="output-network.html">18 Output network</a>
<ul>
<li><a href="output-network.html#output-network-options">18.1 Options</a></li>
<li><a href="output-network.html#output-network-example">18.2 Example</a></li>
</ul>
</li>
<li><a href="output-priors.html">19 Output priors (deal only)</a>
<ul>
<li><a href="output-priors.html#output-priors-options">19.1 Options</a></li>
<li><a href="output-priors.html#output-priors-example">19.2 Example</a></li>
</ul>
</li>
<li><a href="output-posteriors.html">20 Output posteriors</a>
<ul>
<li><a href="output-posteriors.html#output-posteriors-options">20.1 Options</a></li>
<li><a href="output-posteriors.html#output-posts-example">20.2 Example</a></li>
</ul>
</li>
<li><a href="plot-network.html">21 Network plotting</a>
<ul>
<li><a href="plot-network.html#igraph">21.1 igraph</a></li>
<li><a href="plot-network.html#igraph-example">21.2 Example</a></li>
</ul>
</li>
<li><a href="references.html">References</a></li>
</ul>
</div>
<!-- End Contents Navigation -->
</div>
<!-- End Left Column -->
</td>
<td valign="top">
<!-- Begin Right Column -->
<div id="rightcolumn">
<h1>5 Input data</h1>
<p>
All data must be input using the <tt>-input-data</tt> task. </p>
<h2><a name="input-data-options">5.1 Options</a></h2>
<p>
The options are as follows: </p>
<table id="tablestylel" class="center">
<tr><th>Option </th><th>Description </th><th>Default</th></tr>
<tr class="alt"><td valign="top">-input-data </td><td valign="top">do a task to input data </td><td valign="top"></td></tr>
<tr><td valign="top">-input-data-name name </td><td valign="top">label the task with a name </td><td valign="top">Task-n</td></tr>
<tr class="alt"><td valign="top">-input-data-file data.dat </td><td valign="top">the file containing the data for each network node </td><td valign="top"></td></tr>
<tr><td valign="top">-input-data-include-file nodes.dat </td><td valign="top">a list of nodes/variables from the data file to be included in the network. Only the nodes in this list will be used in any analysis. </td><td valign="top"></td></tr>
<tr class="alt"><td valign="top">-input-data-exclude-file nodes.dat </td><td valign="top">a list of nodes/variables to be excluded from the network </td><td valign="top"></td></tr>
<tr><td valign="top">-input-data-cts </td><td valign="top">set the data file as containing continuous data </td><td valign="top"></td></tr>
<tr class="alt"><td valign="top">-input-data-cts-snp </td><td valign="top">set the .bed data file as containing SNP data to be treated as continuous data (0, 1, 2) in the network </td><td valign="top"></td></tr>
<tr><td valign="top">-input-data-cts-snp2 </td><td valign="top">set the data file as containing continuous SNP data (taking any continuous values) </td><td valign="top"></td></tr>
<tr class="alt"><td valign="top">-input-data-cts-missing-value x </td><td valign="top">set the value of missing data for continuous data to x </td><td valign="top"></td></tr>
<tr><td valign="top">-input-data-discrete </td><td valign="top">set the data file as containing discrete data </td><td valign="top"></td></tr>
<tr class="alt"><td valign="top">-input-data-discrete-snp </td><td valign="top">set the .bed data file as containing SNP data to be treated as discrete data in the network </td><td valign="top"></td></tr>
<tr><td valign="top">-input-data-discrete-snp2 </td><td valign="top">set the data file as containing discrete SNP data (taking any number of discrete values) </td><td valign="top"></td></tr>
<tr class="alt"><td valign="top">-input-data-discrete-missing-value x </td><td valign="top">set the value of missing data for discrete data to x </td><td valign="top">NA</td></tr>
<tr><td valign="top">-input-data-factor </td><td valign="top">set the data file as containing discrete data encoded using factor variables </td><td valign="top"></td></tr>
<tr class="alt"><td valign="top">-input-data-factor-snp </td><td valign="top">set the .bed file as containing SNP data to be treated as discrete factor data in the network </td><td valign="top"></td></tr>
<tr><td valign="top">-input-data-factor-snp2 </td><td valign="top">set the data file as containing discrete factor SNP data (taking any number of discrete values) </td><td valign="top"></td></tr>
<tr class="alt"><td valign="top">-input-data-factor-missing-value x </td><td valign="top">set the value of missing data for discrete factor data to x </td><td valign="top">NA</td></tr>
<tr><td valign="top">-input-data-ids n </td><td valign="top">the number of ID columns in each data file </td><td valign="top">2</td></tr>
<tr class="alt"><td valign="top">-input-data-csv </td><td valign="top">set the data file as a comma separated file, .csv </td><td valign="top"></td></tr>
</table>
<h2><a name="input-data-discrete">5.2 Discrete data</a></h2>
<p>
Discrete data is automatically constrained to have no parent nodes that are continuous. </p>
<p>
Discrete data is input by using the <tt>-input-data</tt> task, setting the data file and setting the data file to discrete. For example, the following </p>
<pre>
-input-data
-input-data-file example-discrete.dat
-input-data-discrete
</pre>
<p>
could be used and the output would be something as follows: </p>
<pre>
BayesNetty: Bayesian Network software, v1.00
--------------------------------------------------
Copyright 2015-present Richard Howey, GNU General Public License, v3
Institute of Genetic Medicine, Newcastle University

Random seed: 1551695824
--------------------------------------------------
Task name: Task-1
Loading data
Discrete data file: example-discrete.dat
Number of ID columns: 2
Including the 1 and only variable in analysis
Each variable has 1500 data entries
Missing value: NA
--------------------------------------------------

Run time: less than one second
</pre>
<p>
This parameter file can be found <tt>paras-input-discrete.txt</tt> in the examples, <a href="example.zip">example.zip</a>. </p>
<h2><a name="input-data-cts">5.3 Continuous data</a></h2>
<p>
Continuous data is input by using the <tt>-input-data</tt> task, setting the data file and setting the data file to continuous. For example, the following </p>
<pre>
-input-data
-input-data-file example-cts.dat
-input-data-cts
</pre>
<p>
could be used and the output would be something as follows: </p>
<pre>
BayesNetty: Bayesian Network software, v1.00
--------------------------------------------------
Copyright 2015-present Richard Howey, GNU General Public License, v3
Institute of Genetic Medicine, Newcastle University

Random seed: 1551695897
--------------------------------------------------
Task name: Task-1
Loading data
Continuous data file: example-cts.dat
Number of ID columns: 2
Including (all) 2 variables in analysis
Each variable has 1500 data entries
Missing value: not set
--------------------------------------------------

Run time: less than one second
</pre>
<p>
This parameter file can be found <tt>paras-input-cts.txt</tt> in the examples, <a href="example.zip">example.zip</a>. </p>
<h2><a name="input-data-factor">5.4 Factor data</a></h2>
<p>
Another way of handling discrete data is with the use of <i>factors</i>. Indicator variables are created, one for each different discrete category minus one. These are treated as continuous explanatory variables in the linear regressions when they are parent nodes. A restriction of using discrete data with factors is that they cannot be child nodes of other nodes. Input by using the <tt>-input-data</tt> task, setting the data file and setting the data file to factor. For example, the following </p>
<pre>
-input-data
-input-data-file example-discrete.dat
-input-data-factor
</pre>
<p>
could be used and the output would be something as follows: </p>
<pre>
BayesNetty: Bayesian Network software, v1.00
--------------------------------------------------
Copyright 2015-present Richard Howey, GNU General Public License, v3
Institute of Genetic Medicine, Newcastle University

Random seed: 1551695930
--------------------------------------------------
Task name: Task-1
Loading data
Discrete data file: example-discrete.dat
Data treated as factors
Number of ID columns: 2
Including the 1 and only variable in analysis
Each variable has 1500 data entries
Missing value: NA
--------------------------------------------------

Run time: less than one second
</pre>
<p>
This parameter file can be found <tt>paras-input-factor.txt</tt> in the examples, <a href="example.zip">example.zip</a>. </p>
<h2><a name="input-data-snp">5.5 SNP data</a></h2>
<p>
SNP data is automatically constrained to have no parent nodes. </p>
<p>
SNP data may be input as a <a href="http://pngu.mgh.harvard.edu/~purcell/plink/binary.shtml">binary</a>&nbsp;PLINK format pedigree file, a <tt>.bed</tt> file, see <a href="references.html#purcell:etal:07">Purcell et al. (2007)</a>. This requires that the corresponding <tt>.bim</tt> and <tt>.fam</tt>, files are also available. A text PLINK pedigree file, <tt>.ped</tt>, with corresponding map file, <tt>.map</tt>, may be used to create a binary file using PLINK as follows: <pre>
plink --noweb --file mydata --make-bed --out myfile
</pre>
</p>
<p>
This will create the binary pedigree file, <tt>myfile.bed</tt>, map file, <tt>myfile.bim</tt>, and family file, <tt>myfile.fam</tt> required. </p>
<p>
The SNP data is input by using the <tt>-input-data</tt> task, setting the PLINK binary file and setting the data file to a SNP file in discrete mode or continuous mode. For example, in discrete mode, the following </p>
<pre>
-input-data
-input-data-file example.bed
-input-data-discrete-snp
</pre>
<p>
could be used and the output would be something as follows: </p>
<pre>
BayesNetty: Bayesian Network software, v1.00
--------------------------------------------------
Copyright 2015-present Richard Howey, GNU General Public License, v3
Institute of Genetic Medicine, Newcastle University

Random seed: 1551695984
--------------------------------------------------
Task name: Task-1
Loading data
SNP binary data file: example.bed
SNP data treated as discrete data
Total number of SNPs: 2
Total number of subjects: 1500
Number of ID columns: 2
Including (all) 2 variables in analysis
Each variable has 1500 data entries
--------------------------------------------------

Run time: less than one second
</pre>
<p>
This parameter file can be found <tt>paras-input-snp.txt</tt> in the examples, <a href="example.zip">example.zip</a>. </p>
<h2><a name="input-data-missing">5.6 Missing data</a></h2>
<p>
Missing data is determined by any data matching the given missing value as defined by <tt>-input-data-discrete-missing-value</tt> and <tt>-input-data-cts-missing-value</tt> when inputting discrete and continuous data respectively (or <tt>-input-data-factor-missing-value</tt> when inputting factor data). When continuous data has an invalid entry this will also be set to missing, for example a value of &ldquo;NaN&rdquo; will be set to missing since a numerical value is required. Missing data for SNP data is given as defined by the PLINK <a href="http://pngu.mgh.harvard.edu/~purcell/plink/binary.shtml">binary</a>&nbsp;pedigree format. When there is missing data for a node for a certain individual then data for this certain individual is considered as missing for <i>every</i> node in the network. Therefore the amount of missing data depends on which nodes are in the network. </p>
<p>
Consider a network with 2 continuous nodes, with structure as given by network file <tt>example-network-missing1.dat</tt> and input using parameter file <tt>paras-input-missing1.txt</tt> as given in <a href="example.zip">example.zip</a>,&nbsp;then the output will be will look something as follows: </p>
<pre>
BayesNetty: Bayesian Network software, v1.00
--------------------------------------------------
Copyright 2015-present Richard Howey, GNU General Public License, v3
Institute of Genetic Medicine, Newcastle University

Random seed: 1551694585
--------------------------------------------------
Task name: Task-1
Loading data
Continuous data file: example-cts.dat
Number of ID columns: 2
Including (all) 2 variables in analysis
Each variable has 1500 data entries
Missing value: not set
--------------------------------------------------
--------------------------------------------------
Task name: myNetwork
Loading network
Network file: example-network-missing1.dat
Network type: bnlearn
Network score type: BIC
Total number of nodes: 2 (Discrete: 0 | Factor: 0 | Continuous: 2)
Total number of edges: 1
Network Structure: [express][pheno|express]
Total data at each node: 1500
Missing data at each node: 0
--------------------------------------------------

Run time: less than one second
</pre>
<p>
As indicated in the network details there is no missing data. However, if the SNP node, <tt>rs1</tt>, is added (network file <tt>example-network-missing2.dat</tt>) then the following is given: </p>
<pre>
BayesNetty: Bayesian Network software, v1.00
--------------------------------------------------
Copyright 2015-present Richard Howey, GNU General Public License, v3
Institute of Genetic Medicine, Newcastle University

Random seed: 1551696539
--------------------------------------------------
Task name: Task-1
Loading data
SNP binary data file: example.bed
SNP data treated as discrete data
Total number of SNPs: 2
Total number of subjects: 1500
Number of ID columns: 2
Including (all) 2 variables in analysis
Each variable has 1500 data entries
--------------------------------------------------
--------------------------------------------------
Task name: Task-2
Loading data
Continuous data file: example-cts.dat
Number of ID columns: 2
Including (all) 2 variables in analysis
Each variable has 1500 data entries
Missing value: not set
--------------------------------------------------
--------------------------------------------------
Task name: myNetwork
Loading network
Network file: example-network-missing2.dat
Network type: bnlearn
Network score type: BIC
Total number of nodes: 3 (Discrete: 1 | Factor: 0 | Continuous: 2)
Total number of edges: 2
Network Structure: [rs1][express|rs1][pheno|express]
Total data at each node: 1497
Missing data at each node: 3
--------------------------------------------------

Run time: less than one second
</pre>
<p>
This example is given in network file <tt>example-network-missing2.dat</tt> and parameter file <tt>paras-input-missing2.txt</tt>. The amount of missing data for the network is now 3, indicating that 3 individuals have missing SNP data for <tt>rs1</tt>. Adding in another SNP node, <tt>rs2</tt> (network file <tt>example-network-missing3.dat</tt>), results in the following: </p>
<pre>
BayesNetty: Bayesian Network software, v1.00
--------------------------------------------------
Copyright 2015-present Richard Howey, GNU General Public License, v3
Institute of Genetic Medicine, Newcastle University

Random seed: 1551696644
--------------------------------------------------
Task name: Task-1
Loading data
SNP binary data file: example.bed
SNP data treated as discrete data
Total number of SNPs: 2
Total number of subjects: 1500
Number of ID columns: 2
Including (all) 2 variables in analysis
Each variable has 1500 data entries
--------------------------------------------------
--------------------------------------------------
Task name: Task-2
Loading data
Continuous data file: example-cts.dat
Number of ID columns: 2
Including (all) 2 variables in analysis
Each variable has 1500 data entries
Missing value: not set
--------------------------------------------------
--------------------------------------------------
Task name: myNetwork
Loading network
Network file: example-network-missing3.dat
Network type: bnlearn
Network score type: BIC
Total number of nodes: 4 (Discrete: 2 | Factor: 0 | Continuous: 2)
Total number of edges: 3
Network Structure: [rs1][rs2][express|rs1:rs2][pheno|express]
Total data at each node: 1495
Missing data at each node: 5
--------------------------------------------------

Run time: less than one second
</pre>
<p>
Similarly, this example is given in network file <tt>example-network-missing3.dat</tt> and parameter file <tt>paras-input-missing3.txt</tt>. Here we see that the amount of missing data in the network has increased due to missing data for SNP node <tt>rs2</tt>. This node also has missing data for 3 individuals, with the result that the total amount of missing data for each node is 5. </p>
<h2><a name="input-data-ids">5.7 Data IDs</a></h2>
<p>
By default the first two columns of a data file should be IDs and match those in any other data files, and be in the same order (although the ID names in the header do not need to match). The number of ID columns can be changed using the <tt>-input-data-ids</tt> option, and may be set to zero. If the data contains SNP data in a PLINK binary pedigree file, <tt>.bed</tt>, then the number of ID columns must be set to 2. If the data is a binary pedigree file, <tt>file.bed</tt>, then the family and individual IDs in the file <tt>file.fam</tt> must match the IDs in any other data files, and all SNPs may be used as network nodes. The IDs in different files are checked to be the same including the order, if not BayesNetty will report an error. If there are zero IDs then the individuals are assumed to be in the same order in each file and are only checked to have the same number of individuals. </p>
<h2><a name="input-data-example">5.8 Example</a></h2>
<p>
See the above sections for examples of inputting data. </p>
<br />
<div class="prevnext"><span class="left"><a href="parallel.html">&lt;-prev</a>
</span><span class="right"><a href="input-network.html">next-&gt;</a>
</span></div><!-- End Right Column -->
</div>
</td>
</tr></table>
<!-- End Wrapper -->
</td></tr></table>
</div>
 <!-- Default Statcounter code for Bayesnetty https://www.staff.ncl.ac.uk/richard.howey/bayesnetty/ --> <script type="text/javascript"> var sc_project=12004770; var sc_invisible=1; var sc_security="1ca06837"; </script> <script type="text/javascript" src="https://www.statcounter.com/counter/counter.js" async></script> <noscript><div class="statcounter"><a title="Web Analytics" href="https://statcounter.com/" target="_blank"><img class="statcounter" src="https://c.statcounter.com/12004770/0/1ca06837/1/" alt="Web Analytics"></a></div></noscript> <!-- End of Statcounter Code --></body>
</html>
